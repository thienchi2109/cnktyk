# Cloudflare Pages Configuration for CNKTYKLT Platform
# This file configures the Cloudflare Pages deployment
# Note: For Pages, most configuration is done via the dashboard or wrangler CLI

name = "cnktyklt-platform"
compatibility_date = "2025-01-10"

# Node.js compatibility for Next.js
compatibility_flags = ["nodejs_compat"]

# R2 bucket bindings for file storage
[[r2_buckets]]
binding = "EVIDENCE_FILES"
bucket_name = "cnktyklt-syt"
preview_bucket_name = "cnktyklt-syt-preview"

# KV namespace for session storage (optional)
# Uncomment and configure after creating KV namespace
# [[kv_namespaces]]
# binding = "SESSIONS"
# id = "your_production_kv_id"
# preview_id = "your_preview_kv_id"

# Analytics engine binding (optional)
# Uncomment after setting up Analytics Engine
# [[analytics_engine_datasets]]
# binding = "ANALYTICS"

# Environment-specific configuration
[env.production]
NODE_VERSION = "20"

# R2 buckets for production environment
[[env.production.r2_buckets]]
binding = "EVIDENCE_FILES"
bucket_name = "cnktyklt-production"

# Preview environment configuration
[env.preview]
NODE_VERSION = "20"

[[env.preview.r2_buckets]]
binding = "EVIDENCE_FILES"
bucket_name = "cnktyklt-syt-preview"

# Note: Build configuration is managed via Cloudflare Pages dashboard or GitHub Actions
# - Build command: npm run build
# - Build output directory: .next
# - Root directory: /
# - Node version: 20
